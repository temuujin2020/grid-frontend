<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Team Logos Test - Grid Frontend</title>
  <style>
    :root {
      --bg: #0b0f14;
      --panel: #0f141d;
      --text: #dbe8ff;
      --muted: #8491a8;
      --border: #1d2a3d;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font: 14px/1.5 ui-sans-serif, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: var(--text);
    }

    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .team-card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      transition: transform 0.2s ease;
    }

    .team-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .team-logo {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      object-fit: contain;
      background: #0b0c0f;
      border: 2px solid var(--border);
      margin: 0 auto 15px;
      display: block;
    }

    .team-logo.fallback {
      display: none;
    }

    .team-badge {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      display: none;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 24px;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      color: #fff;
      background: #343a40;
      border: 2px solid var(--border);
      margin: 0 auto 15px;
    }

    .team-name {
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 8px;
    }

    .team-colors {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-bottom: 10px;
    }

    .color-swatch {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 1px solid var(--border);
    }

    .team-url {
      font-size: 12px;
      color: var(--muted);
      word-break: break-all;
      margin-top: 10px;
    }

    .status {
      text-align: center;
      padding: 20px;
      background: var(--panel);
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .status.loading {
      color: #f59e0b;
    }

    .status.success {
      color: #10b981;
    }

    .status.error {
      color: #ef4444;
    }

    .test-section {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .test-input {
      width: 100%;
      padding: 10px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text);
      margin-bottom: 10px;
    }

    .test-button {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }

    .test-button:hover {
      background: #2563eb;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Team Logos Test Page</h1>
    
    <div id="status" class="status loading">Loading team logos...</div>

    <div class="test-section">
      <h3>Test Team Logo</h3>
      <input type="text" id="teamInput" class="test-input" placeholder="Enter team name (e.g., Sprout, Red Reserve, Windigo)" />
      <button onclick="testTeamLogo()" class="test-button">Test Logo</button>
      <div id="testResult"></div>
    </div>

    <div id="teamGrid" class="team-grid"></div>
  </div>

  <script>
    // Team data from your GraphQL query results
    const knownTeams = {
      'sprout': {
        name: 'Sprout',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/4a99a16c029eba9db3169ec2b83e284e',
        colorPrimary: '#34bc6e',
        colorSecondary: '#726180'
      },
      'red reserve': {
        name: 'Red Reserve',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/0304b33ec0316ea7b0fd50feff7bd7cb',
        colorPrimary: '#da1e28',
        colorSecondary: '#cc666b'
      },
      'windigo': {
        name: 'Windigo',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/f07247147aeced1c8148fd2066e8280d',
        colorPrimary: '#7732bb',
        colorSecondary: '#5e6868'
      },
      'x6tence': {
        name: 'x6tence',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/b17e066388a7a20e2b6468f443e3e3d3',
        colorPrimary: '#c22dd5',
        colorSecondary: '#473793'
      },
      'ago': {
        name: 'AGO',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/82913104ea8c389fb963c7a8f1334e04',
        colorPrimary: '#dc267f',
        colorSecondary: '#726180'
      },
      '1win': {
        name: '1WIN',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/1win-logo',
        colorPrimary: '#ff0000',
        colorSecondary: '#ffffff'
      },
      'bestia': {
        name: 'Bestia',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/bestia-logo',
        colorPrimary: '#8b5cf6',
        colorSecondary: '#ffffff'
      },
      'fluxo': {
        name: 'Fluxo',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/fluxo-logo',
        colorPrimary: '#00d4aa',
        colorSecondary: '#ffffff'
      },
      'players': {
        name: 'Players',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/players-logo',
        colorPrimary: '#3b82f6',
        colorSecondary: '#ffffff'
      },
      'y5': {
        name: 'Y5',
        logoUrl: 'https://cdn.grid.gg/assets/team-logos/y5-logo',
        colorPrimary: '#f59e0b',
        colorSecondary: '#000000'
      }
    };

    function getTeamData(teamName) {
      const normalizedName = teamName.toLowerCase().replace(/[^a-z0-9]/g, '');
      return knownTeams[normalizedName] || null;
    }

    function createFallbackLogo(teamName) {
      const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#84cc16', '#f97316'];
      const colorIndex = teamName.charCodeAt(0) % colors.length;
      const bgColor = colors[colorIndex];
      
      return `data:image/svg+xml;base64,${btoa(`<svg width="80" height="80" xmlns="http://www.w3.org/2000/svg"><rect width="80" height="80" fill="${bgColor}" rx="12"/><text x="40" y="50" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="32" font-weight="bold">${teamName.charAt(0).toUpperCase()}</text></svg>`)}`;
    }

    function createTeamCard(teamData, teamName) {
      const card = document.createElement('div');
      card.className = 'team-card';
      
      const logoImg = document.createElement('img');
      logoImg.className = 'team-logo';
      logoImg.alt = `${teamData.name} logo`;
      logoImg.src = teamData.logoUrl;
      
      const logoBadge = document.createElement('div');
      logoBadge.className = 'team-badge';
      logoBadge.textContent = teamData.name.charAt(0).toUpperCase();
      
      logoImg.onerror = function() {
        this.style.display = 'none';
        logoBadge.style.display = 'flex';
      };
      
      const nameDiv = document.createElement('div');
      nameDiv.className = 'team-name';
      nameDiv.textContent = teamData.name;
      
      const colorsDiv = document.createElement('div');
      colorsDiv.className = 'team-colors';
      
      if (teamData.colorPrimary) {
        const primaryColor = document.createElement('div');
        primaryColor.className = 'color-swatch';
        primaryColor.style.backgroundColor = teamData.colorPrimary;
        primaryColor.title = `Primary: ${teamData.colorPrimary}`;
        colorsDiv.appendChild(primaryColor);
      }
      
      if (teamData.colorSecondary) {
        const secondaryColor = document.createElement('div');
        secondaryColor.className = 'color-swatch';
        secondaryColor.style.backgroundColor = teamData.colorSecondary;
        secondaryColor.title = `Secondary: ${teamData.colorSecondary}`;
        colorsDiv.appendChild(secondaryColor);
      }
      
      const urlDiv = document.createElement('div');
      urlDiv.className = 'team-url';
      urlDiv.textContent = teamData.logoUrl;
      
      card.appendChild(logoImg);
      card.appendChild(logoBadge);
      card.appendChild(nameDiv);
      card.appendChild(colorsDiv);
      card.appendChild(urlDiv);
      
      return card;
    }

    function createFallbackCard(teamName) {
      const card = document.createElement('div');
      card.className = 'team-card';
      
      const logoImg = document.createElement('img');
      logoImg.className = 'team-logo';
      logoImg.alt = `${teamName} logo`;
      logoImg.src = createFallbackLogo(teamName);
      
      const nameDiv = document.createElement('div');
      nameDiv.className = 'team-name';
      nameDiv.textContent = teamName;
      
      const statusDiv = document.createElement('div');
      statusDiv.className = 'team-url';
      statusDiv.textContent = 'Fallback logo (no real data found)';
      
      card.appendChild(logoImg);
      card.appendChild(nameDiv);
      card.appendChild(statusDiv);
      
      return card;
    }

    function loadTeamLogos() {
      const statusDiv = document.getElementById('status');
      const gridDiv = document.getElementById('teamGrid');
      
      try {
        statusDiv.className = 'status loading';
        statusDiv.textContent = 'Loading team logos...';
        
        gridDiv.innerHTML = '';
        
        let loadedCount = 0;
        let totalCount = Object.keys(knownTeams).length;
        
        Object.entries(knownTeams).forEach(([key, teamData]) => {
          const card = createTeamCard(teamData, key);
          gridDiv.appendChild(card);
          
          // Check if logo loaded successfully
          const img = card.querySelector('.team-logo');
          img.onload = function() {
            loadedCount++;
            if (loadedCount === totalCount) {
              statusDiv.className = 'status success';
              statusDiv.textContent = `Successfully loaded ${loadedCount} team logos!`;
            }
          };
          
          img.onerror = function() {
            loadedCount++;
            if (loadedCount === totalCount) {
              statusDiv.className = 'status success';
              statusDiv.textContent = `Loaded ${loadedCount} team logos (some with fallbacks)!`;
            }
          };
        });
        
      } catch (error) {
        statusDiv.className = 'status error';
        statusDiv.textContent = `Error loading team logos: ${error.message}`;
      }
    }

    function testTeamLogo() {
      const input = document.getElementById('teamInput');
      const resultDiv = document.getElementById('testResult');
      const teamName = input.value.trim();
      
      if (!teamName) {
        resultDiv.innerHTML = '<div style="color: #ef4444;">Please enter a team name</div>';
        return;
      }
      
      const teamData = getTeamData(teamName);
      
      if (teamData) {
        const card = createTeamCard(teamData, teamName);
        resultDiv.innerHTML = '<h4>Found Team Data:</h4>';
        resultDiv.appendChild(card);
      } else {
        const card = createFallbackCard(teamName);
        resultDiv.innerHTML = '<h4>No Team Data Found (Fallback):</h4>';
        resultDiv.appendChild(card);
      }
    }

    // Load team logos when page loads
    document.addEventListener('DOMContentLoaded', loadTeamLogos);
  </script>
</body>
</html>
